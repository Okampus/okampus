overwrite: true
schema: "libs/shared/graphql/src/schema.merged.graphql"
generates:
  libs/shared/graphql/src/generated.ts:
    documents: "apps/site/**/*.graphql"
    plugins:
      - "add":
          content: "import type { JSONType } from '@okampus/shared/types';"
      - "typescript"
      - "typescript-operations":
          avoidOptionals:
            field: true
            inputValue: false
            object: false
      - "typescript-react-apollo"
    config:
      withHooks: true
      withComponent: false
      withHOC: false
      scalars:
        timestamptz: string
        bigint: string
        smallint: number
        jsonb: JSONType
        Upload: File
hooks:
  afterAllFileWrite:
    - eslint --fix
    - prettier --write