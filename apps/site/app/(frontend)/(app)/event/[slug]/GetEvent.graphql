query GetEvent($slug: String!) {
  event(where: { slug: { _eq: $slug } }, limit: 1) {
    __typename
    id
    createdAt
    description
    start
    end
    slug
    name
    state
    price
    isPrivate
    maxParticipants
    pointsAwardedForAttendance
    location {
      __typename
      id
      type
      link
      name
      details
      address {
        __typename
        id
        name
        latitude
        longitude
        category
        streetNumber
        street
        zip
        city
        state
        country
        geoapifyId
      }
    }
    banner {
      __typename
      id
      url
      type
    }
    eventOrganizes {
      __typename
      id
      eventSupervisors {
        __typename
        id
        teamMember {
          __typename
          id
          user {
            __typename
            id
            createdAt
            firstName
            lastName
            slug
            actor {
              __typename
              id
              createdAt
              email
              name
              website
              avatar
              banner
              bio
              status
            }
          }
        }
      }
      team {
        __typename
        id
        slug
        type
        actor {
          __typename
          id
          name
          email
          website
          avatar
          banner
          socials(where: { deletedAt: { _isNull: true } }) {
            __typename
            id
            pseudo
            url
            type
            order
          }
        }
        joinForm {
          __typename
          id
          schema
          name
        }
        teamMembersAggregate {
          __typename
          aggregate {
            count
          }
        }
      }
      project {
        __typename
        id
        createdAt
        name
        slug
        color
        isPrivate
      }
    }
    eventJoinsAggregate(where: { state: { _eq: "Approved" } }) {
      aggregate {
        count
      }
    }
    eventJoins(where: { state: { _eq: "Approved" } }, limit: 12) {
      __typename
      id
      createdAt
      state
      isPresent
      processedAt
      participationProcessedVia
      participationProcessedAt
      processedBy {
        __typename
        id
        createdAt
        slug
        actor {
          __typename
          id
          bio
          name
          email
          status
          website
          avatar
          banner
        }
      }
      joinedBy {
        __typename
        id
        createdAt
        firstName
        lastName
        slug
        actor {
          __typename
          id
          bio
          name
          email
          website
          status
          avatar
          banner
        }
      }
    }
    joinForm {
      __typename
      id
      createdAt
      schema
      name
      type
    }
  }
}
