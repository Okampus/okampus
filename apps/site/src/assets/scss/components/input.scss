@import '@/assets/scss/abstracts/mixins/get-color';

.text-placeholder,
%text-placeholder {
    color: #9ca3af;
}

%input-focus:not([disabled]),
.input-focus:not([disabled]) {
    @apply transition-[outline-width] duration-300 ease-in;

    &:focus,
    &[focused] {
        @apply outline;

        outline-width: 2px !important;
        outline-color: #1b73d5 !important;
    }

    &:hover,
    &[hovered] {
        @apply outline outline-1 outline-blue-300 dark:outline-blue-600;
    }
}

%input-background,
.input-background {
    @include get-color('bg', 2);

    &:disabled,
    &[disabled] {
        opacity: 0.5;
        @apply cursor-not-allowed;
    }

    &:hover:not([disabled]),
    &[hovered]:not([disabled]),
    &:focus:not([disabled]),
    &[focused]:not([disabled]) {
        @apply brightness-105 dark:brightness-[1.15] transition-[filter] duration-300 ease-in;
    }
}

%input-flat,
.input-flat {
    @extend %input-focus;
    @extend %input-background;
    @include get-color('text', 2);

    line-height: 1.43;

    @apply rounded py-2 px-3;
}

.bottom-border-input {
    @extend %input-focus;
    @include get-color('text', 2);
    @apply bg-transparent w-full focus:rounded dark:border-opacity-75 py-1.5 px-2
        pr-10 border-b-2;

    line-height: 1.43;
}

%input-shadow,
.input-shadow {
    box-shadow: inset 0 2px 2px hsl(0deg 0% 0% / 15%), 0 2px 0 hsl(0deg 0% 100% / 40%);

    .dark & {
        box-shadow: inset 0 2px 2px hsl(0deg 0% 0% / 40%), 0 2px 0 hsl(0deg 0% 100% / 15%);
    }
}

%input,
.input {
    @extend %input-flat;
    @extend %input-shadow;
}

input[type='password']:not(:placeholder-shown) {
    @apply tracking-widest;
}

input[type='checkbox'] {
    @apply bg-white appearance-none
        hover:bg-slate-100 cursor-pointer
        border-2 border-gray-300 rounded shadow-sm focus:border-blue-500
        focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50
        focus:ring-offset-0 disabled:opacity-50 disabled:cursor-not-allowed;

    &:checked {
        @apply bg-blue-500 border-0;

        background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 16 16' fill='%23fff' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z'/%3E%3C/svg%3E");
    }
}

.floating-label {
    @apply text-placeholder-light dark:text-placeholder-dark bg-inherit;

    position: absolute;
    bottom: 50%;
    left: 0.7em;
    box-sizing: border-box;
    pointer-events: none;
    transition: bottom 0.25s, font-size 0.25s, left 0.25s;
    transform: translateY(50%);

    &.floating {
        @apply text-1-light dark:text-1-dark text-base;

        bottom: calc(100% + 4px);
        z-index: 50;
    }
}
