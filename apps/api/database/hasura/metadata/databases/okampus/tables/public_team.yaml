table:
  name: team
  schema: public
object_relationships:
  - name: actor
    using:
      foreign_key_constraint_on: actor_id
  - name: createdBy
    using:
      foreign_key_constraint_on: created_by_id
  - name: grantFund
    using:
      foreign_key_constraint_on: tenant_grant_fund_id
  - name: joinForm
    using:
      foreign_key_constraint_on: join_form_id
  - name: parent
    using:
      foreign_key_constraint_on: parent_id
  - name: tenantScope
    using:
      foreign_key_constraint_on: tenant_scope_id
  - name: video
    using:
      foreign_key_constraint_on: video_id
array_relationships:
  - name: actions
    using:
      foreign_key_constraint_on:
        column: team_id
        table:
          name: action
          schema: public
  - name: bankAccounts
    using:
      foreign_key_constraint_on:
        column: team_id
        table:
          name: bank_account
          schema: public
  - name: childrenTeams
    using:
      foreign_key_constraint_on:
        column: parent_id
        table:
          name: team
          schema: public
  - name: eventOrganizes
    using:
      foreign_key_constraint_on:
        column: team_id
        table:
          name: event_organize
          schema: public
  - name: grants
    using:
      foreign_key_constraint_on:
        column: team_id
        table:
          name: grant
          schema: public
  - name: missions
    using:
      foreign_key_constraint_on:
        column: team_id
        table:
          name: mission
          schema: public
  - name: projects
    using:
      foreign_key_constraint_on:
        column: team_id
        table:
          name: project
          schema: public
  - name: teamDocuments
    using:
      foreign_key_constraint_on:
        column: team_id
        table:
          name: team_document
          schema: public
  - name: teamHistories
    using:
      foreign_key_constraint_on:
        column: team_id
        table:
          name: team_history
          schema: public
  - name: teamJoins
    using:
      foreign_key_constraint_on:
        column: team_id
        table:
          name: team_join
          schema: public
  - name: teamMembers
    using:
      foreign_key_constraint_on:
        column: team_id
        table:
          name: team_member
          schema: public
  - name: teamRoles
    using:
      foreign_key_constraint_on:
        column: team_id
        table:
          name: team_role
          schema: public
select_permissions:
  - role: tenant-member
    permission:
      columns:
        - actor_id
        - created_at
        - created_by_id
        - deleted_at
        - directors_category_name
        - hidden_at
        - id
        - is_join_form_active
        - join_form_id
        - managers_category_name
        - members_category_name
        - membership_duration
        - membership_fees
        - parent_id
        - slug
        - tenant_scope_id
        - type
      filter:
        _and:
          - tenantScope:
              tenantMembers:
                user:
                  id:
                    _eq: X-Hasura-User-Id
          - deleted_at:
              _is_null: true
